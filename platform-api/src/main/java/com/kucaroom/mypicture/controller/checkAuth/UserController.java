package com.kucaroom.mypicture.controller.checkAuth;import com.kucaroom.mypicture.DTO.AboutUsDTO;import com.kucaroom.mypicture.DTO.UserDTO;import com.kucaroom.mypicture.enums.ResponseEnum;import com.kucaroom.mypicture.exception.ApiException;import com.kucaroom.mypicture.responseObject.AboutUsRO;import com.kucaroom.mypicture.responseObject.UserRO;import com.kucaroom.mypicture.service.AboutUsService;import com.kucaroom.mypicture.service.UserService;import com.kucaroom.mypicture.util.ResponseData;import com.kucaroom.mypicture.util.ResponseUtil;import org.springframework.beans.BeanUtils;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import javax.servlet.http.HttpServletRequest;@RequestMapping("/user")@RestControllerpublic class UserController {    @Autowired    private UserService userService;    @Autowired    private AboutUsService aboutUsService;    @GetMapping("/profile")    public ResponseData userInfo(HttpServletRequest request){        Integer userId = (Integer)request.getAttribute("userId");        UserDTO userDTO = userService.finById(userId);        UserRO userResponseData = new UserRO();        userResponseData.setAppId(userDTO.getAppId());        userResponseData.setId(userDTO.getId());        userResponseData.setNickname(userDTO.getNickname());        userResponseData.setAvatar(userDTO.getAvatar());        userResponseData.setGender(userDTO.getGender());        return ResponseUtil.success(userResponseData);    }    @GetMapping("/about")    public ResponseData aboutUs(HttpServletRequest request){        Integer appId = (Integer)request.getAttribute("appId");        AboutUsDTO aboutUsDTO = aboutUsService.findByAppId(appId);        if(aboutUsDTO == null){            throw new ApiException(ResponseEnum.ABOUT_US_EXIST);        }        AboutUsRO aboutUsRO = new AboutUsRO();        BeanUtils.copyProperties(aboutUsDTO,aboutUsRO);        return ResponseUtil.success(aboutUsRO);    }}