package com.kucaroom.mypicture.service.impl;import com.kucaroom.mypicture.domain.WeChatApp;import com.kucaroom.mypicture.enums.WeChatAppStatusEnum;import com.kucaroom.mypicture.util.KeyUtil;import lombok.extern.slf4j.Slf4j;import org.junit.Assert;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.test.context.junit4.SpringRunner;import org.springframework.transaction.annotation.Transactional;@RunWith(SpringRunner.class)@Transactional@SpringBootTest@Slf4jpublic class WeChatAppServiceImplTest {    @Autowired    private WeChatAppServiceImpl service;    @Test    public void findByAppId() {        WeChatApp app = new WeChatApp();        app.setName("唯美图吧");        app.setAppKey(KeyUtil.key());        app.setAppSecret(KeyUtil.generateKey(32));        app.setAllianceKey(KeyUtil.key());        app.setDomain("http://baidu.com");        app.setMobile("13425144866");        app.setCollegeId(1);        app.setServiceId(1);        app.setStatus(WeChatAppStatusEnum.AUDIT.getCode());        WeChatApp weChatApp= service.create(app);        WeChatApp findApp = service.findByAppId(weChatApp.getId());        Assert.assertEquals(findApp.getAllianceKey(),weChatApp.getAllianceKey());    }    @Test    public void create(){        WeChatApp app = new WeChatApp();        app.setName("唯美图吧");        app.setAppKey(KeyUtil.key());        app.setAppSecret(KeyUtil.generateKey(32));        app.setAllianceKey(KeyUtil.key());        app.setDomain("http://baidu.com");        app.setMobile("13425144866");        app.setCollegeId(1);        app.setServiceId(1);        app.setStatus(WeChatAppStatusEnum.AUDIT.getCode());        WeChatApp result = service.create(app);        Assert.assertNotNull(result);    }    @Test    public void updateAppNameById(){        WeChatApp app = service.updateAppNameById(74,"唯美图吧");        Assert.assertNotNull(app);        Assert.assertEquals("唯美图吧",app.getName());    }    @Test    public void updateAppKeyById() {        WeChatApp app = service.updateAppKeyById(74,"wx1d6929eac101642e");        Assert.assertNotNull(app);        Assert.assertEquals("wx1d6929eac101642e",app.getAppKey());    }    @Test    public void updateAppSecretById() {        WeChatApp app = service.updateAppSecretById(74,"53c1ea1840af47f8d693b0504c72c49a");        Assert.assertNotNull(app);        Assert.assertEquals("53c1ea1840af47f8d693b0504c72c49a",app.getAppSecret());    }}