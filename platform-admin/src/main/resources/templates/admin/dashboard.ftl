<#include "./header.ftl"/><div class="x-body layui-anim layui-anim-up" id="app">    <blockquote class="layui-elem-quote">你好，小程序注册之后还需要经过叶子的审核才能用，请加叶子微信：13425144866</blockquote>    <fieldset class="layui-elem-field">        <legend>用户数据统计</legend>        <div class="layui-field-box">            <div class="layui-col-md12">                <div class="layui-card">                    <div class="layui-card-body">                        <div class="layui-carousel x-admin-carousel x-admin-backlog" lay-anim="" lay-indicator="inside" lay-arrow="none" style="width: 100%; height: 90px;">                            <div carousel-item="">                                <ul class="layui-row layui-col-space10 layui-this">                                    <li class="layui-col-xs2" style="text-align: center">                                        <a href="javascript:;" class="x-admin-backlog-body">                                            <h3>昨日新增人数</h3>                                            <p>                                                <cite>{{statistics.yesterday}}</cite></p>                                        </a>                                    </li>                                    <li class="layui-col-xs2" style="text-align: center">                                        <a href="javascript:;" class="x-admin-backlog-body">                                            <h3>今日浏览人数</h3>                                            <p>                                                <cite>{{statistics.today}}</cite></p>                                        </a>                                    </li>                                    <li class="layui-col-xs2" style="text-align: center">                                        <a href="javascript:;" class="x-admin-backlog-body">                                            <h3>总人数</h3>                                            <p>                                                <cite>{{statistics.total}}</cite></p>                                        </a>                                    </li>                                </ul>                            </div>                        </div>                    </div>                </div>            </div>        </div>    </fieldset>    <fieldset class="layui-elem-field">        <legend>小程序信息</legend>        <div class="layui-field-box">            <table class="layui-table">                <tbody>                <tr>                    <th>名称</th>                    <td class="name">                        {{appInfo.name}}                        <div class="layui-input-inline" style="display: none">                            <input type="text" lay-verify="required" class="layui-input" placeholder="名字" name="name" style="width: 200px;float: left">                            <button class="layui-btn layui-btn-blue update-button" style="float: left">提交</button>                        </div>                        <a title="编辑" class="edit-app" hidden href="javascript:;">                            <i class="layui-icon">&#xe642;</i>                        </a>                    </td></tr>                <tr>                    <th>状态</th>                    <td>                        <span v-if="appInfo.status == 1" style="color: orangered">审核中</span>                        <span v-else-if="appInfo.status == 2" style="color: green">运行中</span>                        <span v-else style="color: red">已停止</span>                    </td></tr>                <tr>                    <th>alliance_key</th>                    <td><span class="app-info">{{appInfo.allianceKey}}</span></td></tr>                <tr>                    <th>app_key</th>                    <td class="name">                        <span class="app-info">{{appInfo.appKey}}</span>                        <div class="layui-input-inline" style="display: none">                            <input type="text" lay-verify="required" class="layui-input" placeholder="app_key" name="app_key" style="width: 250px;float: left">                            <button class="layui-btn layui-btn-blue update-button" style="float: left">提交</button>                        </div>                        <a title="编辑" class="edit-app" hidden href="javascript:;">                            <i class="layui-icon">&#xe642;</i>                        </a>                    </td>                </tr>                <tr>                    <th>app_secret</th>                    <td class="name">                        <span class="app-info">{{appInfo.appSecret}}</span>                        <div class="layui-input-inline" style="display: none">                            <input type="text" lay-verify="required" class="layui-input" placeholder="app_secret" name="app_secret" style="width: 250px;float: left">                            <button class="layui-btn layui-btn-blue update-button" style="float: left">提交</button>                        </div>                        <a title="编辑" class="edit-app" hidden href="javascript:;">                            <i class="layui-icon">&#xe642;</i>                        </a>                    </td></tr>                <tr>                    <th>接口域名</th>                    <td><span class="app-info">{{appInfo.domain}}</span></td></tr>                <tr>                    <th>七牛域名</th>                    <td><span class="app-info">{{appInfo.qiNiuDomain}}</span></td></tr>                <tr>                    <th>小程序二维码</th>                    <td>                        test                    </td>                </tr>                </tbody>            </table>        </div>    </fieldset></div></body><script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><script src="https://cdn.bootcss.com/vue/2.5.16/vue.min.js"></script><script src="https://cdn.bootcss.com/axios/0.17.1/axios.min.js"></script><script src="/static/lib/layui/layui.js" charset="utf-8"></script><script type="text/javascript" src="/static/js/xadmin.js"></script><script>    $(document).ready(function(){        $(".name").mouseover(function(){            $(this).children('.edit-app').show();        });        $(".name").mouseleave(function(){            $(this).children('.edit-app').hide();            $(this).children('.edit-app').siblings(".layui-input-inline").css("display", "none");        });        $(".edit-app").on("click",function(){            $(this).siblings(".layui-input-inline").css("display", "");        });        $(".update-button").on("click",function () {            var value = $(this).siblings(".layui-input").val();            var name = $(this).siblings(".layui-input").attr("name");            $.post("/admin/app/edit",{                name:name,                value:value            },function(res){                layer.msg("操作成功");                if(res.code == 0){                    setTimeout(function () {                        window.location.href = '';                    },1500)                }            },"json");        })    });</script><script>    'use strict';    var app = new Vue({        el: '#app',        data: {            appInfo:[],            statistics:{},            new_user:'-',            visit_user:'-',            all_user:'-',            upLoadDomain:'https://up-z2.qbox.me',            imageUrl:'http://image.kucaroom.com/'        },        created:function () {            this.userInfo();            this.getAppInfo();        },        methods:{            /**             * 获取APP信息             *             * @author 叶子             */            getAppInfo:function () {                let _this = this;                axios.get("/admin/app/info").then( response=> {                    var res = response.data;                    if(res.code == 0){                        _this.appInfo = res.data;                    }else{                        console.log('error:'+res);                    }                }).catch(function (error) {                    console.log(error);                });            },            /**             * 获取APP信息             *             * @author 叶子             */            userInfo:function () {                let _this = this;                axios.get("/admin/user/statistics").then( response=> {                    var res = response.data;                if(res.code == 0){                    _this.statistics = res.data;                }else{                    console.log('error:'+res);                }            }).catch(function (error) {                    console.log(error);                });            }        },    });</script></html>