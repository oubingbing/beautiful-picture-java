package com.kucaroom.mypicture.shiro.realm;import com.kucaroom.mypicture.DTO.AdminDTO;import com.kucaroom.mypicture.service.AdminService;import lombok.extern.slf4j.Slf4j;import org.apache.shiro.authc.AuthenticationException;import org.apache.shiro.authc.AuthenticationInfo;import org.apache.shiro.authc.AuthenticationToken;import org.apache.shiro.authc.SimpleAuthenticationInfo;import org.apache.shiro.realm.AuthenticatingRealm;import org.apache.shiro.util.ByteSource;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Component;@Slf4j@Componentpublic class CustomRealm extends AuthenticatingRealm {    @Autowired    private AdminService adminService;    @Override    protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException {        String email = (String) authenticationToken.getPrincipal();        AdminDTO adminDTO = adminService.findByEmail(email);        SimpleAuthenticationInfo authenticationInfo = new SimpleAuthenticationInfo(email, adminDTO.getPassword(), "customRealm");        authenticationInfo.setCredentialsSalt(ByteSource.Util.bytes(adminDTO.getSalt()));        return authenticationInfo;    }}