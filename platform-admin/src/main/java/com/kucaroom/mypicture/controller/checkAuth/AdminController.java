package com.kucaroom.mypicture.controller.checkAuth;import com.kucaroom.mypicture.DTO.AdminDTO;import com.kucaroom.mypicture.DTO.WeChatAppDTO;import com.kucaroom.mypicture.domain.WeChatApp;import com.kucaroom.mypicture.service.WeChatAppService;import lombok.extern.slf4j.Slf4j;import org.apache.shiro.SecurityUtils;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.*;import org.springframework.web.servlet.ModelAndView;import javax.servlet.http.HttpServletRequest;import java.util.HashMap;import java.util.Map;@Slf4j@Controller@RequestMapping("/admin")public class AdminController {    @Autowired    private WeChatAppService weChatAppService;    /**     * 控制台主页     *     * @author yezi     * @return     */    @GetMapping("/index")    public ModelAndView index(HttpServletRequest request){        String username = (String) request.getAttribute("username");        Integer appId = (Integer) request.getAttribute("appId");        WeChatApp weChatAppDTO = weChatAppService.findByAppId(appId);        Map<String,Object> map = new HashMap<>();        map.put("appName",weChatAppDTO.getName());        map.put("username",username);        return new ModelAndView("/admin/index",map);    }    /**     * 控制台主界面     *     * @author yezi     * @return     */    @GetMapping("/dashboard")    public ModelAndView dashboard(){        return new ModelAndView("/admin/dashboard");    }}